<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-World Complexity - Data Science in Wealth Management</title>
</head>
<body>

<nav style="background-color: #1e40af; padding: 12px 20px; margin: -8px -8px 20px -8px; border-radius: 0 0 8px 8px;">
    <a href="index.html" style="color: white; font-weight: bold; margin-right: 30px; text-decoration: none;">Home</a>
    <a href="00_seminar_framework.html" style="color: #dbeafe; margin-right: 12px; text-decoration: none;">Agenda</a>
    <a href="01_opening_presentation.html" style="color: #dbeafe; margin-right: 12px; text-decoration: none;">1. Problem</a>
    <a href="03_data_model_presentation.html" style="color: #dbeafe; margin-right: 12px; text-decoration: none;">2. Data Model</a>
    <a href="03b_stats_foundations.html" style="color: #dbeafe; margin-right: 12px; text-decoration: none;">3. Why Simulate</a>
    <a href="04_statistical_methods.html" style="color: #dbeafe; margin-right: 12px; text-decoration: none;">4. Math</a>
    <a href="05_monte_carlo_aggregation.html" style="color: #dbeafe; margin-right: 12px; text-decoration: none;">5. Simulation</a>
    <a href="06_aggregation_metrics.html" style="color: #dbeafe; margin-right: 12px; text-decoration: none;">6. Analysis</a>
    <a href="02_definitions_glossary.html" style="color: #dbeafe; text-decoration: none;">Glossary</a>
</nav>

<h1>Real-World Complexity</h1>
<p style="color: #64748b; font-style: italic;">What we simplified away (and why that matters)</p>

<div style="background-color: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 20px; margin: 20px 0;">
<h2 style="color: #92400e; margin-top: 5px;">The Gap Between Seminar and Reality</h2>
<p>You've built a working simulation. You understand Monte Carlo methods, tax lot modeling, and statistical aggregation. That's real data science work.</p>
<p>But if you tried to deploy this at a wealth management firm tomorrow, you'd immediately hit a wall of complexity we deliberately avoided. This page describes that gap - not to discourage you, but to show you where the <em>real</em> data engineering and domain expertise challenges live.</p>
</div>

<h2 style="color: #1e40af; border-left: 4px solid #3b82f6; padding-left: 15px; margin-top: 30px;">What We Simplified</h2>

<p>Our seminar model made several assumptions that don't hold in production wealth management systems:</p>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
<tr style="background-color: #1e40af; color: white;">
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left; width: 30%;">Seminar Assumption</th>
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left; width: 35%;">Real-World Reality</th>
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left; width: 35%;">Data Science Impact</th>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px; font-weight: bold;">Single asset, infinite liquidity</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Portfolios have 50+ positions. Some are illiquid (real estate, private equity). You can't sell everything instantly.</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Need liquidity constraints in optimization. Can't just say "sell $100K" - which positions? In what order?</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px; font-weight: bold;">No wash sale rules</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">If you sell at a loss and buy back within 30 days, the IRS disallows the loss. This affects tax-loss harvesting strategies.</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Must track purchase/sale dates across 30-day windows. Constraint propagation problem - one trade blocks future trades.</td>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px; font-weight: bold;">Perfect tax lot tracking</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Custodians (Schwab, Fidelity) have different lot tracking systems. Data arrives in inconsistent formats. Historical data may be missing.</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Data cleaning nightmare. Need reconciliation logic. Sometimes you have to <em>infer</em> cost basis from partial records.</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px; font-weight: bold;">No restricted securities</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Executives have company stock with blackout periods. Can't sell during earnings windows. Some positions have legal restrictions.</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Time-varying constraints. Your optimization must respect "don't sell" lists that change quarterly.</td>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px; font-weight: bold;">Single tax rate</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Federal + state + local + AMT + NIIT (3.8% surtax) + IRMAA (Medicare surcharge). Marginal rates change with income.</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Tax calculation becomes a function of total income, which depends on all withdrawals, which creates circular dependencies.</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px; font-weight: bold;">One account type</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Traditional IRA, Roth IRA, 401(k), taxable, HSA, 529, trusts, joint accounts. Each has different tax treatment and withdrawal rules.</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Combinatorial explosion. Which account to draw from? Order matters. Need multi-account optimization.</td>
</tr>
</table>

<hr style="border: 1px solid #cbd5e1; margin: 30px 0;">

<h2 style="color: #1e40af; border-left: 4px solid #3b82f6; padding-left: 15px; margin-top: 30px;">The Wash Sale Problem</h2>

<p>Let's zoom in on one example: <strong>wash sales</strong>. This is a great case study in how regulatory complexity creates data engineering challenges.</p>

<div style="background-color: #f1f5f9; border: 1px solid #cbd5e1; border-left: 4px solid #3b82f6; padding: 15px; border-radius: 5px; margin: 15px 0;">
<h3 style="color: #1d4ed8; margin-top: 5px;">The Rule</h3>
<p>If you sell a security at a loss and buy a "substantially identical" security within 30 days before or after the sale, the loss is disallowed for tax purposes. The disallowed loss gets added to the cost basis of the new purchase.</p>
</div>

<p><strong>Why this is hard for data systems:</strong></p>

<ul>
    <li><strong>"Substantially identical" is ambiguous.</strong> Is SPY (S&P 500 ETF) substantially identical to VOO (another S&P 500 ETF)? The IRS doesn't say. You need a mapping table.</li>
    <li><strong>The 30-day window goes backward and forward.</strong> A sale on Jan 15 is affected by purchases from Dec 16 to Feb 14. You can't process trades in simple chronological order.</li>
    <li><strong>Across accounts.</strong> If you sell in your taxable account and buy in your IRA, it still triggers. Need cross-account tracking.</li>
    <li><strong>Partial lots.</strong> Sell 100 shares at a loss, buy back 50 shares. Half the loss is disallowed. Need lot-level attribution.</li>
</ul>

<p>In our seminar, we ignored this. In production, this is a <strong>graph problem</strong> where trades are nodes and wash sale relationships are edges. You need constraint satisfaction algorithms.</p>

<hr style="border: 1px solid #cbd5e1; margin: 30px 0;">

<h2 style="color: #1e40af; border-left: 4px solid #3b82f6; padding-left: 15px; margin-top: 30px;">Liquidity and Transaction Costs</h2>

<p>Our simulation assumed you could instantly convert any amount to cash at the current market price. Real portfolios don't work that way.</p>

<h3 style="color: #1d4ed8; margin-top: 25px;">The Liquidity Ladder</h3>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
<tr style="background-color: #1e40af; color: white;">
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left;">Asset Type</th>
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left;">Liquidity</th>
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left;">Data Challenge</th>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Cash / Money Market</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Instant, no cost</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Easy - just track balance</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Large-cap stocks / ETFs</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Same day, minimal spread</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Need bid-ask spread data, but usually negligible</td>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Small-cap stocks</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">1-3 days, 0.5-2% spread</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Must model transaction costs in optimization</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Municipal bonds</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">1-5 days, 1-3% spread</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Illiquid market, need dealer quotes</td>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Real estate / REITs</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">30-90 days, 5-10% costs</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Can't use for short-term liquidity needs</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Private equity</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Years, 20%+ discount</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Effectively locked up - exclude from available funds</td>
</tr>
</table>

<p><strong>Implication:</strong> Your withdrawal strategy must maintain a liquidity buffer. If Robert needs $60K next month, you can't sell the private equity stake. You need a <strong>liquidity-aware optimization</strong> that respects time horizons.</p>

<hr style="border: 1px solid #cbd5e1; margin: 30px 0;">

<h2 style="color: #1e40af; border-left: 4px solid #3b82f6; padding-left: 15px; margin-top: 30px;">Reporting and Compliance</h2>

<p>Wealth management firms are heavily regulated. Every recommendation must be documented and justified.</p>

<h3 style="color: #1d4ed8; margin-top: 25px;">What You Need to Track</h3>

<ul>
    <li><strong>Audit trail:</strong> Every simulation run, every parameter choice, every recommendation. If a client sues 5 years later, you need to prove your advice was sound.</li>
    <li><strong>Model validation:</strong> Regulators want to know: Did you backtest? What were the assumptions? How often do you recalibrate?</li>
    <li><strong>Client suitability:</strong> Is this client sophisticated enough to understand Monte Carlo? Did you explain the risks? Documented in writing?</li>
    <li><strong>Performance attribution:</strong> If the strategy underperforms, was it bad luck or bad advice? You need to decompose returns into market effects vs. strategy effects.</li>
</ul>

<p>This means your database needs:</p>
<ul>
    <li>Versioned models (which GBM parameters were used on which date)</li>
    <li>Simulation provenance (random seed, input data, code version)</li>
    <li>Client communication logs (what was explained, when, to whom)</li>
    <li>Counterfactual tracking (what would have happened with the other strategy)</li>
</ul>

<p><strong>Data engineering reality:</strong> For every 1 table in our seminar schema, a production system has 10 tables for audit, compliance, and reporting.</p>

<hr style="border: 1px solid #cbd5e1; margin: 30px 0;">

<h2 style="color: #1e40af; border-left: 4px solid #3b82f6; padding-left: 15px; margin-top: 30px;">Multi-Account Optimization</h2>

<p>Robert had 2 accounts. Real clients have 6-12 accounts, each with different rules:</p>

<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
<tr style="background-color: #1e40af; color: white;">
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left;">Account Type</th>
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left;">Withdrawal Rules</th>
    <th style="border: 1px solid #cbd5e1; padding: 12px; text-align: left;">Tax Treatment</th>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Traditional IRA</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">RMDs at 73, 10% penalty before 59.5</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Ordinary income</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Roth IRA</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">No RMDs, contributions out anytime</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Tax-free (if qualified)</td>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">401(k)</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">RMDs at 73, but can delay if still working</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Ordinary income</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px;">HSA</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Tax-free for medical, penalty otherwise</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Triple tax-advantaged</td>
</tr>
<tr>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Taxable brokerage</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">No restrictions</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Capital gains + dividends</td>
</tr>
<tr style="background-color: #f8fafc;">
    <td style="border: 1px solid #cbd5e1; padding: 12px;">529 (education)</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">Tax-free for education, penalty otherwise</td>
    <td style="border: 1px solid #cbd5e1; padding: 12px;">State tax deduction on contributions</td>
</tr>
</table>

<p><strong>The optimization problem:</strong> Given a $60K withdrawal need, which accounts do you tap, in what order, to minimize lifetime taxes? This is a <strong>dynamic programming problem</strong> with state space explosion. Our 2-account simulation was tractable. A 6-account version with realistic constraints is NP-hard.</p>

<hr style="border: 1px solid #cbd5e1; margin: 30px 0;">

<h2 style="color: #1e40af; border-left: 4px solid #3b82f6; padding-left: 15px; margin-top: 30px;">What You Learned (And Why It Still Matters)</h2>

<div style="background-color: #dcfce7; border: 1px solid #86efac; border-radius: 8px; padding: 20px; margin: 20px 0;">
<h3 style="color: #166534; margin-top: 5px;">The Core Skills Transfer</h3>
<p>Even though we simplified away these complexities, the data science fundamentals you learned are exactly what you'd use in production:</p>

<ul>
    <li><strong>Monte Carlo simulation</strong> - Still the right approach. You'd just add more constraints and more scenarios.</li>
    <li><strong>Database design for temporal data</strong> - The tax lot model scales. You'd add more tables, but the core pattern holds.</li>
    <li><strong>Statistical aggregation</strong> - Expected value, VaR, percentiles - these are the same metrics real firms use.</li>
    <li><strong>Scenario analysis</strong> - The "what if" questions are identical. The implementation is just messier.</li>
</ul>

<p>The difference between seminar and production isn't the <em>techniques</em> - it's the <em>engineering</em>. You'd spend 80% of your time on data cleaning, constraint handling, and edge cases. But the 20% that's actual data science? That's what you just learned.</p>
</div>

<h3 style="color: #1d4ed8; margin-top: 25px;">Where to Go From Here</h3>

<p>If you wanted to extend this project toward production-grade complexity, here's a roadmap:</p>

<ol>
    <li><strong>Add wash sale tracking</strong> - Implement the 30-day window constraint. This teaches you temporal constraint propagation.</li>
    <li><strong>Multi-asset portfolios</strong> - Instead of one stock, model 10 positions. Add correlation matrices to GBM. This teaches you covariance modeling.</li>
    <li><strong>Liquidity constraints</strong> - Add a "days to liquidate" field to each position. Require 90 days of liquid reserves. This teaches you constraint optimization.</li>
    <li><strong>State taxes</strong> - Add a state tax table. Model moving to Florida at retirement (no state income tax). This teaches you multi-jurisdictional modeling.</li>
    <li><strong>Roth conversions</strong> - Add a third strategy: convert $X/year from Traditional to Roth. Optimize X. This teaches you parameter search.</li>
    <li><strong>Sensitivity analysis</strong> - How much does the answer change if volatility is 14% instead of 16%? This teaches you robustness testing.</li>
</ol>

<hr style="border: 1px solid #cbd5e1; margin: 30px 0;">

<h2 style="color: #1e40af; border-left: 4px solid #3b82f6; padding-left: 15px; margin-top: 30px;">Final Thought</h2>

<div style="background-color: #eff6ff; border: 1px solid #60a5fa; border-radius: 8px; padding: 15px; margin: 20px 0;">
<p style="font-size: 16px; line-height: 1.6;">The gap between this seminar and production systems is large. But it's not a gap in <strong>understanding</strong> - it's a gap in <strong>complexity management</strong>.</p>

<p style="font-size: 16px; line-height: 1.6;">You now understand the core problem: uncertainty in lifespans and markets makes tax optimization a simulation problem, not a calculation problem. You know how to model temporal financial data. You know how to aggregate Monte Carlo results into decisions.</p>

<p style="font-size: 16px; line-height: 1.6;">The rest is engineering. And engineering is learnable.</p>

<p style="font-size: 16px; line-height: 1.6; margin-bottom: 0;">Welcome to data science in wealth management. You're ready.</p>
</div>

<hr style="border: 1px solid #cbd5e1; margin: 30px 0;">
<p style="color: #64748b; font-size: 14px;">Last updated: 2026-01-02</p>

</body>
</html>

